<!-- LIST OF TODOS -->
<!-- <div *ngIf="todos$ | async as todos">
  <div *ngFor="let todo of todos">
    <span *ngIf="todo.id <= 10">{{ todo.title }}</span>
  </div>
</div>
<br /> -->
<!-- END OF LIST OF TODOS -->

<!-- LIST OF USERS -->
<!-- <div *ngIf="users$ | async as users">
  <div *ngFor="let user of users">
    <span *ngIf="user.id <= 10">{{ user.name }}</span>
  </div>
</div>
<br /> -->
<!-- END OF LIST OF USERS -->

<!-- TODOS WITH USERS -->
<!-- <div class="container">
  <table>
    <th>User</th>
    <th>Title</th>
    <tr *ngFor="let t of todosWithUsers$ | async as todosUsers">
      <td>{{t.userId}}</td>
      <td>{{t.title}}</td>
    </tr>
  </table>
</div>
<br /> -->
<!-- END OF TODOS WITH USERS -->

<!-- USERS WITH TODOS -->
<!-- <div *ngFor="let user of usersWithTodos$ | async as users">
  <span>{{ user.name }}</span>
  <ul class="list-group">
    <li class="list-group-item" *ngFor="let todo of user.todos">
      {{ todo.title }}
    </li>
  </ul>
</div> -->
<!-- END OF USERS WITH TODOS -->

<!-- USERS WITH TODOS AND POSTS -->
<!-- <div *ngFor="let user of usersWithTodosAndPost$ | async as users">
  <span>{{ user.name }}</span>

  <ul class="list-group">
    <span>Todos</span>
    <li class="list-group-item" *ngFor="let todo of user.todos">
      {{ todo.title }}
    </li>
    <span>Posts</span>
    <li class="list-group-item" *ngFor="let post of user.posts">
      {{ post.title }}
    </li>
  </ul>
</div> -->

<div
  class="accordion"
  id="accordionExample"
  *ngFor="let user of usersWithTodosAndPosts$ | async as users"
>
  <div class="user-header">{{ user.name }}</div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="todos-{{ user.id }}">
      <button
        class="accordion-button"
        type="button"
        data-bs-toggle="collapse"
        [attr.data-bs-target]="'#collapse-todos-' + user.id"
        aria-expanded="true"
        [attr.aria-controls]="'collapse-todos-' + user.id"
      >
        Todos
      </button>
    </h2>
    <div
      id="collapse-todos-{{ user.id }}"
      class="accordion-collapse collapse show"
      [attr.aria-labelledby]="'todos-' + user.id"
      data-bs-parent="#accordionExample"
    >
      <div class="accordion-body">
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let todo of user.todos">
            {{ todo.title }}
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="posts-{{ user.id }}">
      <button
        class="accordion-button"
        type="button"
        data-bs-toggle="collapse"
        [attr.data-bs-target]="'#collapse-posts-' + user.id"
        aria-expanded="true"
        [attr.aria-controls]="'collapse-posts-' + user.id"
      >
        Posts
      </button>
    </h2>
    <div
      id="collapse-posts-{{ user.id }}"
      class="accordion-collapse collapse show"
      [attr.aria-labelledby]="'posts-' + user.id"
      data-bs-parent="#accordionExample"
    >
      <div class="accordion-body">
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let post of user.posts">
            <strong>{{ post.title }}</strong>
            <div>{{ post.body }}</div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<!-- END OF USERS WITH TODOS AND POSTS -->
